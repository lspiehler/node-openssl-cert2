const node_openssl = require('../index.js');
var openssl = new node_openssl({binpath: '/opt/openssl32/bin/openssl', debug: false});

let csr = `
-----BEGIN CERTIFICATE REQUEST-----
MIIWyTCCFbECAQAwRzEtMCsGA1UEBwwkYjU2NzdlMGEtOWUwMC00OTRmLThlYTct
N2ZhODUzMDBlMzVmMRYwFAYDVQQDDA1MeWFzLlNwaWVobGVyMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz/Zhj+ONC6MY8EuCqjiO5jQAQMpCxVyajQe6
bTnEsLnb88lslIfgh95J3zn8FpbYVDPywZMbeyI3fz+hYxEO1gD+NJMH29QtKNOq
3kOcwsdNADSzLJG6b/HOdtq5u2eLSccOntTzsaTZWZMpQcoSAGAfYfj0DLualRUu
ehLImRio5M/Yf8Zdr/YxFhrPyTLQ160MgIrI9mRjA1CKeM2KTxjkNn8nCQZerqBv
F5nsIKL3UAXEPI2miLpDLexUorY5jCynWVHcxq7cgFPA6ypgouWLtVP8chkmuzlu
6NcjAbta1Ubt7W4+hoIXfRVxyfUXdseyXgIWRSan6Gpt5mF8swIDAQABoIIUOzAc
BgorBgEEAYI3DQIDMQ4WDDEwLjAuMTkwNDUuMjBJBgkrBgEEAYI3FRQxPDA6AgEF
DA9ERVNLVE9QLUhTMEFMMzEMFEF6dXJlQURcTHlhc1NwaWVobGVyDA5kbWNlcnRp
bnN0LmV4ZTBcBgorBgEEAYI3DQICMU4wTAIBAB5EAE0AaQBjAHIAbwBzAG8AZgB0
ACAAUABsAGEAdABmAG8AcgBtACAAQwByAHkAcAB0AG8AIABQAHIAbwB2AGkAZABl
AHIDAQAwaAYKKwYBBAGCNw0CATFaMCgeHABWAGEAbABpAGQAaQB0AHkAUABlAHIA
aQBvAGQeCABEAGEAeQBzMC4eJgBWAGEAbABpAGQAaQB0AHkAUABlAHIAaQBvAGQA
VQBuAGkAdABzHgQAMQAwMIGUBgkqhkiG9w0BCQ4xgYYwgYMwDgYDVR0PAQH/BAQD
AgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMCMCwGA1UdEQQlMCOgIQYKKwYBBAGCNxQC
A6ATDBFVc2VyUHJpbmNpcGFsTmFtZTAPBgNVHRMBAf8EBTADAgEAMB0GA1UdDgQW
BBRqlIW/hXGMqn9DiIhOLKMlPp2xXTCCEm8GCSqGSIb3DQEJBzGCEmATghJcUEVO
bGNuUkZibkp2Ykd4VWIydGxiajQ4UkdGMFlUNDhRMlZ5ZEVWdWNtOXNiRU5vWVd4
c1pXNW5aVDVOU1VsSFJYZFpTa3R2V2tsb2RtTk9RVkZqUkc5SlNVZENSRU5EUW1k
QlEwRlJRWGhuWjBZelRVbEpRbU4zU1VKQlJFSmlUVVZSZUVWNlFWSkNaMjlLYTJs
aFNtc3ZTWE5hUVVWYVJtZE9TRkZyZDNoRmVrRlNRbWR2U210cFlVcHJMMGx6V2tG
RldrWm5Ua0pVVlZWNFIwUkJWMEpuVGxaQ1FVMVVSREJHVGxKVFFrcFVhMXBUVVZO
Q1JGRlRRWGROVVVsVVQyZE1iVFZEWXpkTWJ6RjBWVFJPYjI1M1FVVkJkV0pyU25w
QlRrSm5hM0ZvYTJsSE9YY3dRa0ZSWTNkQlFWTkRRVkZCUVhCd1UwOUdOVGRXV2po
M1VrUkRVVlJqUXl0aE15OXVlRkJuWVdSSGQwMDRkRVZSTlZkMVIwOWtibU5GWlZw
bVRGVk1OR3BHTkRkbFlsQjNZV2xOYWs1TWRqTTRVRkpZUlRCVGRqZFpPRVpFTW1n
emN6SlpNM0ZDT0U0NFkwUjFXVzluU25ZeGFUWndaREU0YWt0NGJ6SjVOVXhWTjFO
UlNFRjRUMUEwYjI1NVEyNUxhM2R0YmxsQ1UyVlZObE5uV0Rnek9EWjVNbVoxVEZO
Tk1YVkxRWHBEVkhkQldHTkVaVXBrVHpWUksyZzRUa2RCSzJsM09IVjVSazhyWjBv
eFpXUmhiVlZPZDJGUFEwNVhWRUYwVm1wVGNqVlpTSEV5VTFSc1JVcHFOMEYzTm5n
dmQxQlFXSE5rWm5OMU4yRllZV3hQVVZkeUx6VklVVVUxTDNCSFRVbENTbWMxU0U0
M2RIcDNhbHBtY0RkNVdEUTVNelEzYTBsU1JYQkhRV2xYTlNzNGVVSm5PV00zYzFj
MmVWbERiRWRzTkZGNU5VZ3ZaVWx3YzIwNVNWaFJXbEpyY0dRd0swNWlTV0U0Y0RO
R1dFOWpRVE5OU1VsRlptZFpTa3R2V2tsb2RtTk9RVkZqUWsxQ01FZERWME5IVTBG
R2JFRjNVVUpMWjFGUlNFSmphbEZSV25CSWJHNURVblF3WjAxVmFVSk1XVU5EUWta
QlNuUmFlVWRJZG1selVUWnhNREJUYm1sNk9HMHpUV0ZyYUU1cVUybHFPRTUyYUhS
V2JsaHNNMDlyU1dkdU1tcFplRFp4UW1SR2NrcGphVWxCUVUwMVVHMTZWbEY0YnpN
M1kxQktVbUp4ZW0xRk9FUlRSWGxUTDNwRmFqSXdhbGhoYms1eVNIRjZWSFZ0VERr
M04xUmpVa1o2V25OQmNGWjRVbFZFYjBaRVNrOVBRMkV2SzNKR0wwWnpZbTV2UlVo
cmF6QklXbW94VVdsUVoyOHlhbk5MVjJwVVR5OHdXREUzYzA0ck1VUTFaVTVuUkZO
dk1YaDFVRXBFWlU1SVVtSXhaVVI0T1RkRlFWTnRSMm94UW5nM05uZHJkakpyUTFG
SVVGVlVjbFpVZFN0WFoxSm1hV0ZaTURkU1JFNVpSRTFWWTA5dk4yZHBhWEJNUlRC
UFpVOHdTbmhJYW10cGF6aEphM2xzTlZGUk5VVjFLMDk0UmpCdVMwNVNOMDAzYkdG
clVuQnJkakpvVkdkdVRrOXZWbWRvTkdSR1VHSnFWV3gyUjBWeFZEY3dWazR6Wkd4
RVFrMW5RMlJPUjNVeWIyeFVRMFYwYVdrM1VrY3dka0V2YTFsNlNYSnNWalJQTlc0
elVXc3hOamh4TmsxWE5EZzFiWFkxZUZZelRYQlNkelEwZFZGQmVWZFJTRzFrVEM5
TmRHTnVNR2Q2ZVdaTGEweFBVbXRLVGxSbVVUazBVblFyTm5sQ1RpOVhaRmN6VWpZ
eWMzSkhSSE4yTTFoUFlYaFJLMDlrTjI5UE0ydE1WWEZGUm1waGJtVkRXVGx5ZUZO
R1pWRnJkRXM1UmtKemJFWklhVWh5U0hGSlFtbEZWRmxLTlhNdlJWRlpNMmc1VTJ4
TFFXd3JlRVpRZURjd1Z5dG1aR0pIZFRkU2FWcEtTelJQZVdaWGNXUjBiREpvVDNN
eFZrNVNPRGRVUzNOdVJsRkpiMWxuTTFKcE1FdGFMMjloYlhsdFoxUnpSbFZQZGxW
a2FuSjViSGhZTWs4eGVVWlBTRXBLYkRJemNrNWxMMDVOSzJKbFVXWldSa2x5TVVO
c1pWZEljVGh0WW1WVE5YRktjMFoxYkVoeVVHSllVRkZRYW05dVYwaHhOVUpvY0Vw
T1prRjJMMk5FVmtwS2MyNVJWbXQ0ZFZNd1NEZEpla0pRUTBnemQwOTVVM0JtVkVv
MWNESjVVVmhQYjNSQ1duWTFjMlZEVURkelJYWnRhVEZ4TlVkaGVqQndObGhtZEdZ
NVQxbGpUSGRMVXpNelJrSXlNR2h1YW14SE5XbFVjVnBoYUdaUGEzQXJTVXhDTjBa
UFFtOXBjR2xrTW5kaWJUY3lZelp0Y0ZWdFkwMVJMMk5yTVd0a1dHMXRSWEZuYVZs
QlpsQnlXakJJVnk5U2JrVnFPRU5FY21WNVRXOWxORXQ1ZGtGbGNqRjZTMUJDVVVa
NllYTk5abkEwU3k5RVZYcEtiV2xpVjB0c05rTnFVWFZNUkM5M1ZGbGxlamd3Y0hk
ek9IcHFiV0ZhWlZaV1ZuQlZValZWYUd4aWRXTndObVphWXpVeE1YTkZVV3B1ZVVo
ME5GQXpURkEwT0RZeGJYVnhXWFJ1UjJkdVEwUnRabXhJVDBwelpIYzRjbkJFY1hG
UWNscHJOVFZaTDJjMlRWTlBWbmxvUm1aS1lrbGxTWE5oUWpaSlNFNXJTVEZtU1Vs
MWFrc3hVelZSYjJoWVExRkNSWFpGYjFCblpsYzNTRUZ1Y0c1blRESXZWWEJWVXpF
ck5EQm5UMjVFZDFkM1dIbFhhMDF2U1ZWaGVIQlhSMmxoWVVGcFMwSTVTVmxJV0dw
U04zaHZiWHBDVEZoSWNHRkpibTVPYWl0UGRHdEdRMnRuYjBKcWMzZzFhVEV3UmxS
eE5tTnNTalI0WXpoVlNWQk9aVnBRVTFSWVdWaE1SVWgxZVVwM1JFVXhPR012ZFVs
Uk0yUktWbmxWVTFJeGJXbDBUa054VDA5aVluWklRVzB5ZDI1Nk9YVk9OakJzUjNn
eFVFRk9WMjl1Y1haaVdXZG9UV0pVVmtoWEszTjVabUV2Y0RscGRWaGxkMVJEVVhG
RmNXOTBaR3BFY3poWmJVNHplR1ZEZVdFMU4xUTNVVlpNVkVadlpHWktjMHMzZWt0
SmMzbHVlalJYUTBac2NtRjBZMjFuZFN0TWFrMHpWa1JQV0ZkTWRHeGlNVEJXYW1G
U1dWcFZhVVZvVmpaR1MzbFJhREF2Um1wYVdGTTVabXRCUkZONU1ETjZiRVpzTVRs
d2FuZFJaMWhMTVhaMVNrNXRZbTl2TkhwelUwc3daME0yY3poelVURnVWWEF3VHpK
QlZEbG1lVU5KUnpCT1pISmpTRFpsYVZBMGNHTkhjR0V4U0dJekswaHpRekowVDJO
b1JtOTFaMjR2V2twVU1WTldjMDVUT1VoaFlqTkhNa042UVd0UlIwZ3ZUMlJXWlVw
MGRVRTFXV2h2ZEhsbFdGSnhPVzlWVVZCNmF6bHFRVzFOYlM5c1VXdHpWMFkzYXpk
V00wUjZPWEF5WjNsc2NXTkplRVEwYmxaNlozQkJSMVJ5YnpjeWFrVlNiM2M5UEM5
RFpYSjBSVzV5YjJ4c1EyaGhiR3hsYm1kbFBqeFRhV2R1WlhKVWFIVnRZbkJ5YVc1
MFBqQXpSa1V5UmpOQ09Ua3lNa1k0TmtJMU1VWXpNME0zUWpCRU1qbEdNVUUwUWpN
NVJqRkVRVU04TDFOcFoyNWxjbFJvZFcxaWNISnBiblErUEM5RVlYUmhQanhUYVdk
dVlYUjFjbVUrTXpBNE1qQXlNVEF3TmpBNU1rRTROalE0T0RaR056QkVNREV3TnpB
eVFUQTRNakF5TURFek1EZ3lNREZHUkRBeU1ERXdNVE14TUVZek1EQkVNRFl3T1RZ
d09EWTBPREF4TmpVd016QTBNREl3TVRBMU1EQXpNREJDTURZd09USkJPRFkwT0Rn
MlJqY3dSREF4TURjd01UTXhPREl3TVVRNE16QTRNakF4UkRRd01qQXhNREV6TURn
eFFVTXpNRGd4T1Rjek1UQkNNekF3T1RBMk1ETTFOVEEwTURZeE16QXlOVFUxTXpN
eE1UTXpNREV4TURZd016VTFNRFF3T0RFek1FRTFOell4TnpNMk9EWTVOa1UyTnpj
ME5rWTJSVE14TVRBek1EQkZNRFl3TXpVMU1EUXdOekV6TURjMU1qWTFOalEyUkRa
R05rVTJORE14TVRJek1ERXdNRFl3TXpVMU1EUXdRVEV6TURrMFJEWTVOak0zTWpa
R056TTJSalkyTnpRek1UQkRNekF3UVRBMk1ETTFOVEEwTUVJeE16QXpORFUwUkRV
d016RXpSak13TTBRd05qQXpOVFV3TkRBek1UTXpOalV6TkRNMFJqWkZOa00yT1Ra
Rk5qVTBOell4TnpRMk5UYzNOakUzT1RVek5qazJOelpGTmprMlJUWTNORE0yTlRj
eU56UTJPVFkyTmprMk16WXhOelEyTlRKRk5rUTJNVFpGTmpFMk56WTFNa1UyUkRZ
NU5qTTNNalpHTnpNMlJqWTJOelF5UlRZek5rWTJSREF5TVRBM01qVkZRekpFUkRo
Q1JVRTBRVE0wUVRoRU56SXdSREZDTVVRNFJVSTVNRE13TUVRd05qQTVOakE0TmpR
NE1ERTJOVEF6TURRd01qQXhNRFV3TURNd01FUXdOakE1TWtFNE5qUTRPRFpHTnpC
RU1ERXdNVEF4TURVd01EQTBPREl3TVRBd056TXpOMFZHUlRZMU9EaEdPVEZDTnpn
NVEwVXdRakE1TlVSRlFrRXpNMEZGTXpZek9EbENORU0zTlRFM056RkdPVE13TkRW
RU1rUXdSalUxTVVORlFrWkNRVUUxTWtReU4wTTNNVVF5TjBJeVFrTXhRMFpCUkRa
Qk4wUTJRMFpEUTBGRFJVRTVSakk1UlRBMlEwTTVNVFUyTUVFMlFVRkdOakExTnpB
Mk5rTkdPVE5EUVVRMk0wVXdOVEJFUWpWRU5UQkdNRFkyTmprMFFUazJNakZDTTBJ
MU9UazROakkwTkVKRFJqbEJRalU0TmtSQlFrTkVNekJDUWtGQlJEaEVPVE5DT0Rj
ek5VSkRSalJHTTBZelJFUXlNVVpHUVRFMk56ZzBSa0pCTWtOQ01rWXhPVGN3UXpk
Q05ETTFOVVJHTTBVeVFUQXpRMEkxTURaQlJqSkdOREJFT0VNeVEwVkdSVU16UmtK
Qk16STBNRE16T1RKRFFqUXdNRGM0TkVKQlF6YzFNamd4TWpkRlFqZ3hRVFV6T0RN
Mk9UQXpORVUwTUVNeVEwRkVSa0pETVVZd1EwVXpNRVpCUkVSQk5UUXhPRE00UkRB
MlJVSXlNMEUyTnprME4wTTJORGxETWtJNE9FTkNSRGM1UkVRMk1ERXhPVEJETkRB
Mk1qUkZRelJCUkRJMlJFRTNPVGc1TVRsRFJEa3pPRGt3T0RjMlJrSTVSRU5CT1VG
Q1FUUXpRMFpCUlVaRU4wTkNRelUyUmtZNE9FSkNRakJEUWpVeU9EbEVOelZFTXpG
RU5EQkZRVFEzTlRJM1F6aEJNVGhHTjBaQ09UZzBORFl3UXpFeVJUTkdNRUpETTBW
RE5EVkdRVVJCUmtKR1F6Y3pNamM0TVRZM05qYzVRamhGUmpROEwxTnBaMjVoZEhW
eVpUNDhSR1YyYVdObFNXUStZbU15WW1SbU1Ua3ROekE0T0MwMFpESXdMV0ZsTVdN
dE16QXpaak13WkdWaE16WXlQQzlFWlhacFkyVkpaRDQ4UTJWeWRHbG1hV05oZEdW
U1pYRjFaWE4wU1dRK1lUYzFOR1psTXpjdE16UmlaaTAwWVRVNUxUazBNelF0TkdZ
d056a3dNelJrTkRVeVBDOURaWEowYVdacFkyRjBaVkpsY1hWbGMzUkpaRDQ4Vkds
dFpYTjBZVzF3UGpJd01qUXRNRGd0TVRkVU1UWTZNREU2TVRZdU1qUXdNRE16T0Zv
OEwxUnBiV1Z6ZEdGdGNENDhMME5sY25SRmJuSnZiR3hVYjJ0bGJqND0wDQYJKoZI
hvcNAQENBQADggEBAHeunqtjAXom8qqit+384nY9yfwtz7NNptYnxkd+g6NjpGj3
OfCqE/90dtfyAPPD4Bxv2zk0TYpWtnRxwtxqBQ8zBGqDLeo/OS+A7yg3ohoniDSb
U7k53qew5DyPEYjDrf0JSg8aHYnATFedAHXBDSDMFMgXLaaZLj5hOvM3Yygn84tu
5FTg1/VUft5Z2R75FcPSBjia3wCggH+soLP4XHcZmFYoZ4hnsvtNrd21Givcqqk0
SXBN22xRpttDZF7Bs9zb/zYylB9tbO3Q8B+VppmYoP1id0MUIa9HwafJXOzBmcNv
Z9sFqOXZk/sPLv0+bdCHRJY9SUD4qog+kPZD3Zk=
-----END CERTIFICATE REQUEST-----
`

// example of a bad csr
// let csr = `
// -----BEGIN CERTIFICATE REQUEST-----
// MIICuzCCAaMCAQIwQTEtMCsGA1UEAwwkU0NFUCBDQSBmb3IgQUkgTmV0d29yayBU
// cmFpbmluZyBMdGQuMRAwDgYDVQQLDAcxNDE0MjYwMIIBIjANBgkqhkiG9w0BAQEF
// AAOCAQ8AMIIBCgKCAQEA42V8GDz5sohs8Aq23skmQ9/2g2VwziGuVOS5+T1U2dD6
// Ur1z9sc4rtb3uJqGBFQ/H1D2y8Ke9WK1hGoeCScs9BI7HixvHJd0ZKVTiumLTqQ4
// OCr5W/d2zrUPGFDGVyj3dlyn51uMMMZzZT8YFubhphyBgyLUsY39wHo/gXX6iYyv
// bW17+TWhs4tKnFKAYHAuqz2g0z/waEVW578Ohr34gf0D8NG2XXPOw3gWNrccdWKJ
// 9Z4Dv6xCZU/ZF+9AA34Xvy/zmTNnEPieymWfKvr08RkYCK2sxo+9ZTtUK6vATRCV
// 3uUykoCxMLw4oQzUeLwywz+EWTVpsnsW7NwUq3rmawIDAQABoDUwMwYJKoZIhvcN
// AQkOMSYwJDASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIChDANBgkq
// hkiG9w0BAQUFAAOCAQEAGpD488He8d+MFjnghCY/ptWeX/Zr/3ExeDM1lxbXn2Ys
// uFh6XTBB46IDvPguJy1Wt5U5VHdsF69xeUYfQwnuhVtVIP2+mPdyP0TYCAftcLtE
// lqFcgQfaTguU5R+XoQboukoLTi4E+w4swbVdXqVl+1RF0CYqKjAMUOesWIJc55tc
// E1ntB9elpSP1UMvFOnock6piQsmQI/Abo+R46eXmEQr+bAfdWQrxyQ2H9LcAaYGq
// 9Z8QTajlk/ifrWKniH7+ImNOFWwPmjlIbOJnWQIpkR1oqvn/1Yb6F7b/oR1dxxvo
// hgseeLbJu3dgGKikXv4L3Z14zs1ToG4DD9nBUjd2kA==
// -----END CERTIFICATE REQUEST-----
// `

openssl.csr.parse({csr: csr}, function(err, result) {
    console.log(result.data.extensions);
    console.log(err);
})